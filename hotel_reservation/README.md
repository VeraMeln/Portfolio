# Система прогнозирования отказа от брони для отелей

## Задача

Заказчик этого исследования — сеть отелей «Как в гостях». 

Чтобы привлечь клиентов, эта сеть отелей добавила на свой сайт возможность забронировать номер без предоплаты. Однако если клиент отменял бронирование, то компания терпела убытки. Сотрудники отеля могли, например, закупить продукты к приезду гостя или просто не успеть найти другого клиента.

Чтобы решить эту проблему, вам нужно разработать систему, которая предсказывает отказ от брони. Если модель покажет, что бронь будет отменена, то клиенту предлагается внести депозит. Размер депозита — 80% от стоимости номера за одни сутки и затрат на разовую уборку. Деньги будут списаны со счёта клиента, если он всё же отменит бронь.

## Используемые библиотеки

pandas, seaborn, sklearn

## Данные

- номер записи;
- количество взрослых постояльцев;
- год заезда;
- месяц заезда;
- неделя заезда;
- день заезда;
- количество младенцев;
- количество изменений параметров заказа;
- количество детей от 3 до 14 лет;
- гражданство постояльца;
- тип заказчика;
- сколько дней заказ ожидал подтверждения;
- канал дистрибуции заказа;
- отмена заказа;
- признак того, что гость бронирует номер второй раз;
- количество дней между датой бронирования и датой прибытия;
- опции заказа;
- количество подтверждённых заказов у клиента;
- количество отменённых заказов у клиента;
- необходимость места для автомобиля;
- тип забронированной комнаты;
- количество ночей в выходные дни;
- количество ночей в будние дни;
- общее количество ночей;
- количество специальных отметок.

## Результаты

Проведена предварительная обработка данных, сгенерированы дополнительные признаки.

**До разработки модели прибыль отеля** без введения депозитов составляет

66 308 200 рублей.

При этом **издержки отеля** из-за отмены брони составили

15 121 010 рублей.

Для разработки модели машинного обучения я разбила данные на характеристики наблюдений и целевой признак; с помощью кросс-валидации обучила и оценила несколько моделей.

По результатам кросс-валидации, **лучшие показатели у модели дерева принятия решений** со следующими значениями гиперпараметров:

DecisionTreeClassifier(class_weight='balanced', max_depth=2, random_state=12345)


В ходе проверки **качества модели** на тестовых данных получены следующие **значения метрик**:

- полнота 1.00, 
- точность 0.33, 
- доля правильных ответов 0.37.

Самая важная для нас оценка - полнота.

Применение модели положительно влияет на доходы отеля.

Прибыль на тестовой выборке без использования модели и введения депозита составляет 32 624 960 рублей.

**Прибыль с использованием модели** и введением депозита составляет 41 052 776 рублей.

**Выгода от использования модели** составляет 8 427 816 рублей, что **покрывает расходы на разработку системы прогнозирования** (400 000 рублей).

По результатам работы системы прогнозирования был составлен **портрет «ненадежного клиента»**. Это туристы, которые:

- путешествуют парой,
- без детей,
- без группового заезда,
- раннее услугами данного отеля не пользовались,
- бронировали номер категории А,
- на период с апреля по июнь.
- через туроператора или турагентство,
- на две-три ночи,
- без необходимости места для автомобиля,
- путешествие не связано с договором или групповым заездом.

**Десятка стран-лидеров по отказу от брони**: Португалия, Великобритания, Франция, Испания, Германия, Италия, Ирландия, Бразилия, Бельгия и США.
